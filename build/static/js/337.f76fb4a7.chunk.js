"use strict";(self.webpackChunkquero_paz=self.webpackChunkquero_paz||[]).push([[337],{5337:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var r=s(5043);const t={NEW:"new",READ:"read",ARCHIVED:"archived",DELETED:"deleted"},l="low",n="medium",i="high",c="emergency",o="negative",d="neutral",m="positive",x={initialize:async()=>(console.log("[INFO] Servi\xe7o de voicemail estar\xe1 dispon\xedvel em uma vers\xe3o futura"),Promise.resolve()),getMessages:async()=>Promise.resolve([]),getConfig:async()=>Promise.resolve({transcriptionEnabled:!1,sentimentAnalysisEnabled:!1,autoDeleteAfterDays:30,notifyOnTranscription:!1,language:"pt-BR"}),async updateConfig(e){return console.log("[INFO] Atualiza\xe7\xe3o de configura\xe7\xe3o n\xe3o dispon\xedvel nesta vers\xe3o"),this.getConfig()},addMessage:async()=>(console.log("[INFO] Adi\xe7\xe3o de mensagens n\xe3o dispon\xedvel nesta vers\xe3o"),Promise.resolve({})),markAsRead:async()=>(console.log("[INFO] Marca\xe7\xe3o de mensagens n\xe3o dispon\xedvel nesta vers\xe3o"),Promise.resolve(!0)),archiveMessage:async()=>(console.log("[INFO] Arquivamento de mensagens n\xe3o dispon\xedvel nesta vers\xe3o"),Promise.resolve(!0)),deleteMessage:async()=>(console.log("[INFO] Dele\xe7\xe3o de mensagens n\xe3o dispon\xedvel nesta vers\xe3o"),Promise.resolve(!0))};var u=s(579);const p=()=>{const[e,a]=(0,r.useState)([]),[s,p]=(0,r.useState)(null),[g,h]=(0,r.useState)(!0),[b,y]=(0,r.useState)(!1),[v,N]=(0,r.useState)("all"),[f,j]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{await x.initialize(),await w()})()}),[]);const w=(0,r.useCallback)((async()=>{h(!0);try{const[e,s]=await Promise.all([x.getMessages(),x.getConfig()]);a(e),p(s)}catch(e){console.error("Erro ao carregar dados de voicemail:",e)}finally{h(!1)}}),[]),k=async(e,a)=>{try{const s=await x.updateConfig({[e]:a});p(s)}catch(s){console.error("Erro ao atualizar configura\xe7\xe3o:",s),alert("N\xe3o foi poss\xedvel atualizar a configura\xe7\xe3o.")}},C=e.filter((e=>"all"===v||("voicemail"===v?e.type===t.VOICEMAIL:"transcribed"===v?e.type===t.TRANSCRIBED:"missed"!==v||e.type===t.MISSED_CALL))),E=e=>{switch(e){case l:return(0,u.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:"Baixa"});case n:return(0,u.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"M\xe9dia"});case i:return(0,u.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"Alta"});case c:return(0,u.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"Urgente"});default:return null}},z=e=>{switch(e){case m:return(0,u.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Positivo"});case o:return(0,u.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"Negativo"});case d:return(0,u.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:"Neutro"});default:return null}},A=e=>{switch(e.type){case t.MISSED_CALL:return(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcde"});case t.VOICEMAIL:return(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udd0a"});case t.TRANSCRIBED:return(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcdd"});default:return(0,u.jsx)("span",{className:"text-lg",children:"\u2709\ufe0f"})}};return(0,u.jsx)("div",{className:"max-w-3xl mx-auto space-y-6 p-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-paz shadow-paz p-6",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-paz-blue-800 mb-2",children:"Gerenciamento de Voicemail"}),(0,u.jsx)("p",{className:"text-gray-600 mb-6",children:"Transcreva seus voicemails para texto e gerencie mensagens de chamadas perdidas."}),(0,u.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,u.jsx)("h3",{className:"font-medium text-lg mb-3",children:"Configura\xe7\xf5es"}),g?(0,u.jsx)("div",{className:"flex justify-center py-4",children:(0,u.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-paz-blue-600"})}):(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"mr-3 bg-paz-blue-100 p-2 rounded-lg",children:(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udcdd"})}),(0,u.jsx)("span",{children:"Ativar transcri\xe7\xe3o autom\xe1tica"})]}),(0,u.jsxs)("div",{className:"relative inline-block w-10 align-middle select-none",children:[(0,u.jsx)("input",{type:"checkbox",id:"toggle-transcription",checked:(null===s||void 0===s?void 0:s.transcriptionEnabled)||!1,onChange:()=>k("transcriptionEnabled",!(null!==s&&void 0!==s&&s.transcriptionEnabled)),className:"sr-only peer"}),(0,u.jsx)("label",{htmlFor:"toggle-transcription",className:"block h-6 overflow-hidden rounded-full bg-gray-300 cursor-pointer peer-checked:bg-paz-blue-600",children:(0,u.jsx)("span",{className:"absolute transform transition-transform duration-200 ease-in-out left-1 top-1 bg-white rounded-full h-4 w-4 peer-checked:translate-x-4"})})]})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"mr-3 bg-green-100 p-2 rounded-lg",children:(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\ude00"})}),(0,u.jsx)("span",{children:"An\xe1lise de sentimento"})]}),(0,u.jsxs)("div",{className:"relative inline-block w-10 align-middle select-none",children:[(0,u.jsx)("input",{type:"checkbox",id:"toggle-sentiment",checked:(null===s||void 0===s?void 0:s.sentimentAnalysisEnabled)||!1,onChange:()=>k("sentimentAnalysisEnabled",!(null!==s&&void 0!==s&&s.sentimentAnalysisEnabled)),className:"sr-only peer"}),(0,u.jsx)("label",{htmlFor:"toggle-sentiment",className:"block h-6 overflow-hidden rounded-full bg-gray-300 cursor-pointer peer-checked:bg-paz-blue-600",children:(0,u.jsx)("span",{className:"absolute transform transition-transform duration-200 ease-in-out left-1 top-1 bg-white rounded-full h-4 w-4 peer-checked:translate-x-4"})})]})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"mr-3 bg-yellow-100 p-2 rounded-lg",children:(0,u.jsx)("span",{className:"text-lg",children:"\ud83d\udd14"})}),(0,u.jsx)("span",{children:"Notificar ap\xf3s transcri\xe7\xe3o"})]}),(0,u.jsxs)("div",{className:"relative inline-block w-10 align-middle select-none",children:[(0,u.jsx)("input",{type:"checkbox",id:"toggle-notify",checked:(null===s||void 0===s?void 0:s.notifyOnTranscription)||!1,onChange:()=>k("notifyOnTranscription",!(null!==s&&void 0!==s&&s.notifyOnTranscription)),className:"sr-only peer"}),(0,u.jsx)("label",{htmlFor:"toggle-notify",className:"block h-6 overflow-hidden rounded-full bg-gray-300 cursor-pointer peer-checked:bg-paz-blue-600",children:(0,u.jsx)("span",{className:"absolute transform transition-transform duration-200 ease-in-out left-1 top-1 bg-white rounded-full h-4 w-4 peer-checked:translate-x-4"})})]})]})]})]}),(0,u.jsx)("div",{className:"mb-4 border-b border-gray-200",children:(0,u.jsxs)("ul",{className:"flex flex-wrap -mb-px",children:[(0,u.jsx)("li",{className:"mr-2",children:(0,u.jsxs)("button",{onClick:()=>N("all"),className:"inline-block py-2 px-4 text-sm font-medium ".concat("all"===v?"text-paz-blue-600 border-b-2 border-paz-blue-600":"text-gray-500 hover:text-gray-700"),children:["Todas (",e.length,")"]})}),(0,u.jsx)("li",{className:"mr-2",children:(0,u.jsx)("button",{onClick:()=>N("voicemail"),className:"inline-block py-2 px-4 text-sm font-medium ".concat("voicemail"===v?"text-paz-blue-600 border-b-2 border-paz-blue-600":"text-gray-500 hover:text-gray-700"),children:"Voicemail"})}),(0,u.jsx)("li",{className:"mr-2",children:(0,u.jsx)("button",{onClick:()=>N("transcribed"),className:"inline-block py-2 px-4 text-sm font-medium ".concat("transcribed"===v?"text-paz-blue-600 border-b-2 border-paz-blue-600":"text-gray-500 hover:text-gray-700"),children:"Transcritas"})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{onClick:()=>N("missed"),className:"inline-block py-2 px-4 text-sm font-medium ".concat("missed"===v?"text-paz-blue-600 border-b-2 border-paz-blue-600":"text-gray-500 hover:text-gray-700"),children:"Chamadas Perdidas"})})]})}),g?(0,u.jsx)("div",{className:"flex justify-center py-12",children:(0,u.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-paz-blue-600"})}):C.length>0?(0,u.jsx)("div",{className:"space-y-4",children:C.map((e=>(0,u.jsxs)("div",{className:"p-4 rounded-lg border ".concat("new"===e.status?"border-paz-blue-200 bg-paz-blue-50":"border-gray-200 bg-white"),children:[(0,u.jsxs)("div",{className:"flex justify-between items-start",children:[(0,u.jsxs)("div",{className:"flex items-start",children:[(0,u.jsx)("div",{className:"mr-3 mt-1",children:A(e)}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium",children:e.callerName||e.phoneNumber}),(0,u.jsxs)("div",{className:"text-sm text-gray-500",children:[e.phoneNumber,e.duration>0&&" \u2022 ".concat(e.duration,"s"),e.timestamp&&" \u2022 ".concat(new Date(e.timestamp).toLocaleString())]}),e.type===t.TRANSCRIBED&&(0,u.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.urgency&&E(e.urgency),e.sentiment&&z(e.sentiment)]})]})]}),(0,u.jsx)("div",{children:e.type===t.VOICEMAIL&&(0,u.jsx)("button",{onClick:()=>(async e=>{y(!0);try{const a=await x.transcribeVoicemail(e);a.success?await w():alert("Erro na transcri\xe7\xe3o: ".concat(a.error))}catch(a){console.error("Erro durante transcri\xe7\xe3o:",a),alert("Ocorreu um erro durante a transcri\xe7\xe3o da mensagem.")}finally{y(!1)}})(e.id),disabled:b,className:"text-sm text-paz-blue-600 hover:text-paz-blue-800 disabled:text-gray-400",children:b?"Transcrevendo...":"Transcrever"})})]}),e.type===t.TRANSCRIBED&&(0,u.jsxs)("div",{className:"mt-3",children:[(0,u.jsx)("div",{className:"bg-white rounded-lg p-3 border border-gray-200 ".concat(f===e.id?"":"line-clamp-2"),children:e.transcription}),(0,u.jsx)("button",{onClick:()=>j(f===e.id?null:e.id),className:"text-sm text-gray-500 hover:text-gray-700 mt-1",children:f===e.id?"Ver menos":"Ver mais"})]}),(0,u.jsxs)("div",{className:"mt-3 flex justify-end space-x-2",children:["new"===e.status&&(0,u.jsx)("button",{onClick:()=>(async e=>{try{await x.markAsRead(e),await w()}catch(a){console.error("Erro ao marcar mensagem como lida:",a)}})(e.id),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Marcar como lido"}),(0,u.jsx)("button",{onClick:()=>(async e=>{if(confirm("Tem certeza que deseja excluir esta mensagem?"))try{await x.deleteMessage(e),await w()}catch(a){console.error("Erro ao excluir mensagem:",a),alert("N\xe3o foi poss\xedvel excluir a mensagem.")}})(e.id),className:"px-3 py-1 text-sm text-red-600 hover:text-red-800",children:"Excluir"})]})]},e.id)))}):(0,u.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,u.jsx)("p",{className:"text-gray-500",children:"Nenhuma mensagem encontrada"}),(0,u.jsxs)("div",{className:"mt-4 flex justify-center space-x-3",children:[(0,u.jsx)("button",{onClick:async()=>{try{await x.simulateMissedCall("(11) 98765-4321","Jo\xe3o Silva"),await w()}catch(e){console.error("Erro ao simular chamada perdida:",e)}},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Simular Chamada Perdida"}),(0,u.jsx)("button",{onClick:async()=>{try{await x.simulateVoicemail("(11) 98765-4321","Jo\xe3o Silva",25),await w()}catch(e){console.error("Erro ao simular voicemail:",e)}},className:"px-4 py-2 bg-paz-blue-600 text-white rounded-lg hover:bg-paz-blue-700 transition-colors",children:"Simular Voicemail"})]})]})]})})}}}]);
//# sourceMappingURL=337.f76fb4a7.chunk.js.map