(self.webpackChunkquero_paz=self.webpackChunkquero_paz||[]).push([[840],{477:()=>{},7876:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(9379),r=s(5043),o=s(7505),n=s(1981),i=s(8583);const d=async()=>{const e={timestamp:(new Date).toISOString(),tests:{},overallStatus:"pending"};try{e.tests.storage=await c(),e.tests.sync=await l(),e.tests.encryption=await u(),e.tests.network=p(),e.tests.indexedDB=f(),e.tests.serviceWorker=g();const t=Object.entries(e.tests).filter((e=>{let[t,s]=e;return"failed"===s.status})).map((e=>{let[t]=e;return t}));0===t.length?e.overallStatus="passed":(e.overallStatus="failed",e.failedTests=t)}catch(t){e.overallStatus="error",e.error=t.message,console.error("Erro ao executar testes do sistema:",t)}return e},c=async()=>{const e={name:"Armazenamento Offline",status:"pending",tests:{}};try{await o.A.initialize(),e.tests.initialization={status:"passed"};const t="test_".concat(Date.now()),s={test:!0,timestamp:Date.now()};await o.A.setItem("test",t,s),e.tests.setItem={status:"passed"};const a=await o.A.getItem("test",t);JSON.stringify(a)===JSON.stringify(s)?e.tests.getItem={status:"passed"}:e.tests.getItem={status:"failed",expected:s,received:a},await o.A.removeItem("test",t);const r=await o.A.getItem("test",t);e.tests.removeItem=null===r||void 0===r?{status:"passed"}:{status:"failed",reason:"Item n\xe3o foi removido corretamente"};const n=Object.values(e.tests).filter((e=>"failed"===e.status));e.status=0===n.length?"passed":"failed"}catch(t){e.status="failed",e.error=t.message,console.error("Erro no teste de armazenamento:",t)}return e},l=async()=>{const e={name:"Sistema de Sincroniza\xe7\xe3o",status:"pending",tests:{}};try{if(n.A.initialize?(await n.A.initialize(),e.tests.initialization={status:"passed"}):e.tests.initialization={status:"failed",reason:"M\xe9todo de inicializa\xe7\xe3o n\xe3o encontrado"},n.A.getPendingChangesCount){const t=await n.A.getPendingChangesCount();e.tests.pendingChanges={status:"passed",pendingCount:t}}else e.tests.pendingChanges={status:"failed",reason:"M\xe9todo getPendingChangesCount n\xe3o encontrado"};let t=!1;const s=()=>{t=!0};n.A.addEventListener?(n.A.addEventListener("statusChange",s),n.A._updateStatus?(n.A._updateStatus("testing"),e.tests.events={status:t?"passed":"failed",reason:t?null:"Evento n\xe3o recebido"}):e.tests.events={status:"skipped",reason:"M\xe9todo _updateStatus n\xe3o encontrado"},n.A.removeEventListener("statusChange",s)):e.tests.events={status:"failed",reason:"M\xe9todo addEventListener n\xe3o encontrado"};const a=Object.values(e.tests).filter((e=>"failed"===e.status));e.status=0===a.length?"passed":"failed"}catch(t){e.status="failed",e.error=t.message,console.error("Erro no teste de sincroniza\xe7\xe3o:",t)}return e},u=async()=>{const e={name:"Criptografia",status:"pending",tests:{}};try{const r={sensitiveInfo:"teste-seguro-123",userId:12345,timestamp:Date.now()},o="senha-segura-teste";try{const a=await(0,i.yv)(r,o);if(a&&a.encryptedData){e.tests.encryption={status:"passed"};try{const t=await(0,i.af)(a,o);let s=!0;for(const e in r)if("object"===typeof r[e]){if(JSON.stringify(r[e])!==JSON.stringify(t[e])){s=!1;break}}else{if("timestamp"===e)continue;if(r[e]!==t[e]){s=!1;break}}e.tests.decryption=s?{status:"passed"}:{status:"failed",details:{expected:JSON.stringify(r),received:JSON.stringify(t)}}}catch(t){e.tests.decryption={status:"failed",reason:"Erro ao descriptografar: ".concat(t.message)}}try{await(0,i.af)(a,"senha-incorreta"),e.tests.wrongPassword={status:"failed",reason:"Descriptografia com senha incorreta n\xe3o falhou como esperado"}}catch(s){e.tests.wrongPassword={status:"passed"}}}else e.tests.encryption={status:"failed",reason:"Dados criptografados incompletos"},e.tests.decryption={status:"skipped",reason:"N\xe3o foi poss\xedvel testar descriptografia porque a criptografia falhou"},e.tests.wrongPassword={status:"skipped",reason:"N\xe3o foi poss\xedvel testar senha incorreta porque a criptografia falhou"}}catch(a){e.tests.encryption={status:"failed",reason:"Falha ao criptografar dados: ".concat(a.message)},e.tests.decryption={status:"skipped",reason:"N\xe3o foi poss\xedvel testar descriptografia porque a criptografia falhou"},e.tests.wrongPassword={status:"skipped",reason:"N\xe3o foi poss\xedvel testar senha incorreta porque a criptografia falhou"}}const n=Object.values(e.tests).filter((e=>"failed"===e.status));e.status=0===n.length?"passed":"failed"}catch(r){e.status="failed",e.error=r.message,console.error("Erro no teste de criptografia:",r)}return e},p=()=>{const e={name:"Conectividade de Rede",status:"pending",tests:{}};try{const t=navigator.onLine;e.tests.onlineStatus={status:"passed",online:t},e.tests.apiSupport={status:"passed",hasOnlineEvent:"ononline"in window,hasOfflineEvent:"onoffline"in window},e.status="passed"}catch(t){e.status="failed",e.error=t.message,console.error("Erro no teste de rede:",t)}return e},f=()=>{const e={name:"Suporte a IndexedDB",status:"pending"};try{const t="indexedDB"in window;if(e.hasSupport=t,t){indexedDB.open("test_db",1);e.status="passed"}else e.status="failed",e.reason="Navegador n\xe3o suporta IndexedDB"}catch(t){e.status="failed",e.error=t.message,console.error("Erro no teste de IndexedDB:",t)}return e},g=()=>{const e={name:"Service Worker",status:"pending"};try{const t="serviceWorker"in navigator;e.hasSupport=t,t?(e.status="passed",e.registrationStatus=navigator.serviceWorker.controller?"active":"inactive"):(e.status="failed",e.reason="Navegador n\xe3o suporta Service Worker")}catch(t){e.status="failed",e.error=t.message,console.error("Erro no teste de Service Worker:",t)}return e};var m=s(579);const h=()=>{const[e,t]=(0,r.useState)(null),[s,o]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),c=e=>{const t="passed"===e.status?"text-green-600":"text-red-600";return(0,m.jsxs)("div",{className:"mb-4 p-4 border rounded",children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("h3",{className:"font-medium",children:e.name}),(0,m.jsx)("span",{className:t,children:e.status})]}),(0,m.jsx)("p",{className:"text-gray-700 mt-1",children:e.message}),e.details&&(0,m.jsx)("div",{className:"mt-2 text-sm bg-gray-100 p-2 rounded",children:(0,m.jsx)("pre",{children:JSON.stringify(e.details,null,2)})})]})};return(0,m.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,m.jsx)("h1",{className:"text-2xl font-bold",children:"Testes do Sistema Quero Paz"}),(0,m.jsx)("button",{onClick:async()=>{o(!0),i(null);try{const e=await d();t(e)}catch(e){i(e.message||"Erro desconhecido ao executar testes")}finally{o(!1)}},disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:s?"Executando...":"Executar Testes"})]}),n&&(0,m.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border-l-4 border-red-500 text-red-700",children:[(0,m.jsx)("p",{className:"font-bold",children:"Erro"}),(0,m.jsx)("p",{children:n})]}),e&&(0,m.jsxs)("div",{className:"mb-6",children:[(0,m.jsxs)("div",{className:"text-xl font-semibold mb-4 ".concat("passed"===e.overallStatus?"text-green-600":"text-red-600"),children:["Status geral: ",e.overallStatus,"passed"===e.overallStatus&&" \u2705","failed"===e.overallStatus&&" \u274c"]}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Data do teste:"})," ",new Date(e.timestamp).toLocaleString()]})}),(0,m.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Resultados dos Testes"}),Object.entries(e.tests).map((e=>{let[t,s]=e;return(0,m.jsx)("div",{children:c((0,a.A)({name:t},s))},t)}))]})]})}},8583:(e,t,s)=>{"use strict";s.d(t,{af:()=>i,oH:()=>d,yv:()=>n});var a=s(6111),r=s.n(a);const o="QuErO-pAz_MaStEr_KeY_2025-v2",n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;try{const s="string"===typeof e?e:JSON.stringify(e);return{encryptedData:r().AES.encrypt(s,t).toString(),timestamp:(new Date).toISOString()}}catch(s){throw console.error("Erro ao criptografar dados:",s),new Error("Falha na criptografia de dados")}},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;try{if(!e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&""===e.trim())return console.warn("Pacote de dados vazio ou inv\xe1lido, retornando objeto vazio"),{};if(!e.encryptedData)return console.warn("Pacote de dados sem encryptedData, retornando objeto vazio"),{};const{encryptedData:a}=e,o=r().AES.decrypt(a,t).toString(r().enc.Utf8);if(!o)return console.warn("Descriptografia produziu resultado vazio, retornando objeto vazio"),{};try{return JSON.parse(o)}catch(s){return o}}catch(a){return console.error("Erro ao descriptografar dados:",a),{}}},d=e=>{try{const t=e?e.replace(/\D/g,""):"";if(!t)throw new Error("N\xfamero de telefone inv\xe1lido");return r().SHA256(t).toString()}catch(t){throw console.error("Erro ao gerar hash do telefone:",t),new Error("Falha ao processar n\xfamero de telefone")}}}}]);
//# sourceMappingURL=840.6ec2708b.chunk.js.map